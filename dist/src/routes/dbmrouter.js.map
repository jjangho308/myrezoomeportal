{"version":3,"sources":["../../../src/routes/dbmrouter.js"],"names":["express","require","router","Router","post","req","res","next","cmd","body","console","log","response","result","mid","code","msg","db","DataManager","getUserInfo","res2","send","module","exports"],"mappings":";;AAEA,4C,gJAFA,IAAIA,UAAUC,QAAQ,SAAR,CAAd,CACA,IAAIC,SAASF,QAAQG,MAAR,EAAb;;AAGAD,OAAOE,IAAP,CAAY,GAAZ,EAAiB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;;AAEjC,YAAIC,MAAMH,IAAII,IAAJ,CAASD,GAAnB;;AAEA,YAAIA,QAAQ,kBAAZ,EAAgC;AAC5BE,wBAAQC,GAAR,CAAY,kEAAZ;AACAD,wBAAQC,GAAR,CAAY,8DAAZ;AACAD,wBAAQC,GAAR,CAAYN,IAAII,IAAhB;AACA,oBAAIG,WAAW,EAAf;AACA,oBAAIC,SAAS,EAAb;;AAEAD,yBAASE,GAAT,GAAe,UAAf;AACAF,yBAASJ,GAAT,GAAeH,IAAII,IAAJ,CAASD,GAAxB;AACAI,yBAASG,IAAT,GAAgB,KAAhB;;AAEAF,uBAAOE,IAAP,GAAc,KAAd;AACAF,uBAAOG,GAAP,GAAa,SAAb;;AAEA,oBAAIC,KAAK,IAAIC,WAAJ,EAAT;;AAEAD,mBAAGE,WAAH,CAAe,SAAf,EAA0B,UAASC,IAAT,EAAc;AACpCV,gCAAQC,GAAR,CAAYS,IAAZ;AACAR,iCAASC,MAAT,GAAkBO,IAAlB;AACAd,4BAAIe,IAAJ,CAAST,QAAT;AACH,iBAJD;;AAMA;;;AAGAF,wBAAQC,GAAR,CAAY,6DAAZ;AACAD,wBAAQC,GAAR,CAAYC,QAAZ;AACA;AACH,SA5BD,MA4BO,IAAIJ,QAAQ,cAAZ,EAA4B;AAC/BE,wBAAQC,GAAR,CAAY,8DAAZ;AACAD,wBAAQC,GAAR,CAAY,8DAAZ;AACAD,wBAAQC,GAAR,CAAYN,IAAII,IAAhB;;AAEA,oBAAIG,WAAW,EAAf;AACAA,yBAASG,IAAT,GAAgB,KAAhB;AACAH,yBAASC,MAAT,GAAkB,SAAlB;;AAEAH,wBAAQC,GAAR,CAAY,+DAAZ;AACAD,wBAAQC,GAAR,CAAYC,QAAZ;AACAN,oBAAIe,IAAJ,CAAST,QAAT;AACH;;AAEJ,CA9CD;;AAgDAU,OAAOC,OAAP,GAAiBrB,MAAjB","file":"dbmrouter.js","sourcesContent":["var express = require('express');\r\nvar router = express.Router();\r\nimport Managers from \"../core/managers\";\r\n\r\nrouter.post('/', (req, res, next) => {\r\n\r\n    var cmd = req.body.cmd;\r\n\r\n    if (cmd === 'mysqlUserGetTest') {\r\n        console.log(\"========================mysqlUserGetTest========================\");\r\n        console.log(\"=======================Request body=========================\");\r\n        console.log(req.body);\r\n        var response = {};\r\n        var result = {};\r\n\r\n        response.mid = 'mid11111';\r\n        response.cmd = req.body.cmd;\r\n        response.code = '200';\r\n\r\n        result.code = '200';\r\n        result.msg = 'success';\r\n        \r\n        var db = new DataManager();\r\n\r\n        db.getUserInfo('rezoome', function(res2){\r\n            console.log(res2);\r\n            response.result = res2;\r\n            res.send(response);\r\n        });\r\n\r\n        //response.result = result;\r\n\r\n\r\n        console.log(\"===========================================================\");\r\n        console.log(response);\r\n        //res.send(response);\r\n    } else if (cmd === 'SearchResult') {\r\n        console.log(\"========================SearchResult========================\");\r\n        console.log(\"=======================Request body=========================\");\r\n        console.log(req.body);\r\n\r\n        var response = {};\r\n        response.code = '200';\r\n        response.result = 'success';\r\n\r\n        console.log(\"=======================Response body=========================\");\r\n        console.log(response);\r\n        res.send(response);\r\n    }\r\n\r\n});\r\n\r\nmodule.exports = router;"]}