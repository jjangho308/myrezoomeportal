$(document).ready(function(){$("#signin").click(function(){window.location.href="/signin"}),$("#signup").click(function(){window.location.href="/signup"}),$("#btn_signin").on("click",function(){if(""!=$("#signin_id").val())if(""!=$("#signin_pw").val()){var n={email:$("#signin_id").val(),pw:SHA256($("#signin_pw").val())};$.ajax({type:"POST",url:"/signin",data:n,dataType:"JSON",beforeSend:function(){$("#loading").show()},success:function(n){genRsaKey(),window.location.href="main"},error:function(n,i,e){"USER_IS_NOT_FOUND"==n.responseJSON?alert("등록된 이메일이 없다."):"MISMATCH_PASSWORD"==n.responseJSON&&alert("비밀번호가 일치하지 않는다.")}})}else alert("pw empty");else alert("id empty")}),$("#signin_div").keydown(function(n){13==n.keyCode&&$("#btn_signin").trigger("click")}),$("#btn_signup").click(function(){if(""!=$("#signup_id").val())if(""!=$("#signup_pw").val()){var n=$("#signup_id").val(),i=SHA256($("#signup_pw").val()),e=SHA256($("#signup_pw_confirm").val()),a=$("#signup_familyname").val(),s=$("#signup_firstname").val(),l=$(':radio[name="gender"]:checked').val(),t=$("#signup_birth").val(),r=$("#signup_phone").val(),o=$("#signup_carrierName").val();if(i==e){var p={email:n,pw:i,familyNameKO:a,firstNameKO:s,fullNameKO:a+s,birth:t,phone:r,gender:l,carrierName:o};$.ajax({type:"POST",url:"/signup",data:p,dataType:"JSON",success:function(n){$("#signup_div").hide(),$("#signup_complete_div").show(),$("#signup_complete_name").html(a+s)},error:function(n,i,e){"ER_DUP_ENTRY"==n.responseJSON.code&&alert("이미 가입된 이메일 정보가 있다.")}})}else alert("비밀번호가 다르다.")}else alert("pw empty");else alert("id empty")}),$("#btn_main").click(function(){var n={email:$("#signup_id").val(),pw:SHA256($("#signup_pw").val())};$.ajax({type:"POST",url:"/signin",data:n,dataType:"JSON",success:function(n){genRsaKey(),window.location.href="main"},error:function(n,i,e){"USER_IS_NOT_FOUND"==n.responseJSON?alert("등록된 이메일이 없다."):"MISMATCH_PASSWORD"==n.responseJSON&&alert("비밀번호가 일치하지 않는다.")}})})});