function nexledgerInfoView(o){$.ajax({type:"POST",url:"/nexledger/get_txinfo",contentType:"application/json",data:JSON.stringify({txid:o}),error:function(e,i,t){$("#nexledger-txid-info-dialog").css("display","none"),console.error("Nexledger Connection Error : "+t),console.error(e.responseText),nexledgerErr=1},success:function(e){console.log(e),$("#tx_id").text(o);for(var i="",t=0;t<e.result.fromaddress.length;t++)i=i+e.result.fromaddress[t]+"<br>";$("#fromaddress").html(i),i="";for(t=0;t<e.result.toaddress.length;t++)i=i+e.result.toaddress[t]+"<br>";$("#toAddress").html(i),$("#total_volume").text(e.result.total_volume),$("#total_output").text(e.result.output),$("#txsize").text(e.result.txsize+" byte"),i="";for(t=0;t<e.result.input_script.length;t++)i=i+e.result.input_script[t]+"<br>";$("#input_script").html(i),$("#input_script").css("height","175px"),i="";for(t=0;t<e.result.output_script.length;t++)i=i+e.result.output_script[t]+"<br>";$("#output_script").html(i),$("#output_script").css("height","200px"),$(".nexledger-txid-info-dialog-close").click(function(e){$("#nexledger-txid-info-dialog .close-modal").click()})}})}function summitform(){var e=window.location.href.split("/")[4],i=$("#cert-url-input").val().split("/")[4],t=hexToBase64(SHA256($("#shared_password").val())),o="N";if(""==$("#shared_password").val()||null==$("#shared_password").val())o="Y";$.ajax({type:"POST",url:"/shared_certs",headers:{Authorization:client_authorization},data:JSON.stringify({shared_cert:{certid:e,url:i,password:t,exp:20501231,emails:[],msg:void 0,public:o}}),error:function(e,i,t){console.error("Share cert Error : "+t),console.error(e.responseText)},success:function(e){console.log(e),$("#cert-add-dialog a").click()},contentType:"application/json"})}function setCertViewer(e){record=getData(e),console.log(record),$("#cert_title").html(record.subid),certformatter[record.subid](record.data)}function setDefaultUrl(e){certUrl=window.location.protocol+"//"+window.location.host+"/v/"+e,console.log(certUrl)}function setCertId(e){certId=e}function generateURL(){$.ajax({type:"POST",url:"/client",headers:{Authorization:client_authorization},data:JSON.stringify({cmd:"GenerateShortURL",args:{prefix:"c"}}),error:function(e,i,t){console.error("Generate url : "+t),console.error(e.responseText)},success:function(e){$("#cert-url-input").val(window.location.protocol+"//"+window.location.host+"/v/"+e.result)},contentType:"application/json"})}!function(e){var t=0;$(e.document).ready(function(){client_token=getCookie("JWT"),client_authorization="Bearer "+client_token,$("#create-link-button").click(function(){$(".abc-radio label").css("color","#676767"),$("#cert-url-input").val("https://rezoome.io/d/20194011003A"),$(".abc-radio .default-password-label").click(),$(".abc-radio .default-period-label").click(),$(".modal-footer a").css("display","inline-block"),generateURL()}),$(".cert-create-div .default-password-label").click(function(){$(".cert-create-div  .password-div").hide()}),$(".cert-create-div  .aware-password-label").click(function(){$(".cert-create-div  .password-div").show()}),$(".cert-create-div  .default-period-label").click(function(){$(".cert-create-div  .period-div").hide()}),$(".cert-create-div  .expire-period-label").click(function(){$(".cert-create-div  .period-div").show()}),$(".email-send-div .default-password-label").click(function(){$(".email-send-div  .password-div").hide()}),$(".email-send-div  .aware-password-label").click(function(){$(".email-send-div  .password-div").show()}),$(".email-send-div  .default-period-label").click(function(){$(".email-send-div  .period-div").hide()}),$(".email-send-div  .expire-period-label").click(function(){$(".email-send-div  .period-div").show()}),$(".expire-period").datepicker(),$(".expire-period").datepicker("option","dateFormat","yy-mm-dd"),$(".modal-sub-header span:nth-child(1)").click(function(){$(".modal-sub-header span:nth-child(2)").css({border:"none","font-weight":"normal"}),$(this).css({"border-bottom":"solid 5px #4c80f1","font-weight":"bold"}),$(".email-send-div").hide(),$(".cert-create-div").show()}),$(".modal-sub-header span:nth-child(2)").click(function(){$(".modal-sub-header span:nth-child(1)").css({border:"none","font-weight":"normal"}),$(this).css({"border-bottom":"solid 5px #4c80f1","font-weight":"bold"}),$(".email-send-div").show(),$(".cert-create-div").hide()}),$(".main-body-footer-right").click(function(e){if(0==t){$(".main-body-footer-right").css({width:"100px",height:"40px","border-radius":"4px","background-color":"#e2e8f0"}),t=1;var i='<div class="footer-verify-1">';i+='<div class="footer-verify-left">STEP1</div>',i+='<div class="footer-verify-center">Nexledger에 기록된 Transaction ID를 조회하는중입니다.</div>',i+='<div class="footer-verify-right"><div class="verify-loader"><div class="verify-loader-item"></div><div class="verify-loader-item"></div><div class="verify-loader-item"></div></div></div>',i+="</div>",$(".main-body-footer").append(i),$("html").animate({scrollTop:$(".main-body-footer").offset().top},600),nexledgerInfoView($(".main-body-footer-6").text()),setTimeout(function(){$(".footer-verify-1 > .footer-verify-right").html('<img src="/img/certviewer/shape.svg" class="Shape">');var e='<div class="footer-verify-2">';e+='<div class="footer-verify-left">STEP2</div>',e+='<div class="footer-verify-center">Hash 데이터를 비교하고 있습니다.</div>',e+='<div class="footer-verify-right"><div class="verify-loader"><div class="verify-loader-item"></div><div class="verify-loader-item"></div><div class="verify-loader-item"></div></div></div>',e+="</div>",$(".main-body-footer").append(e),$("html").animate({scrollTop:$(".main-body-footer").offset().top},600),setTimeout(function(){$(".footer-verify-2 > .footer-verify-right").html('<img src="/img/certviewer/shape.svg" class="Shape">');var e='<div class="footer-verify-3">';e+='<div class="footer-verify-left">STEP3</div>',e+='<div class="footer-verify-center">결과를 정리하고 있습니다.</div>',e+='<div class="footer-verify-right"><div class="verify-loader"><div class="verify-loader-item"></div><div class="verify-loader-item"></div><div class="verify-loader-item"></div></div></div>',e+="</div>",$(".main-body-footer").append(e),$("html").animate({scrollTop:$(".main-body-footer").offset().top},600),setTimeout(function(){$(".footer-verify-3 > .footer-verify-right").html('<img src="/img/certviewer/shape.svg" class="Shape">');var e='<div class="footer-verify-4">';e+='<div class="footer-verify-left">RESULT</div>',e+='<div class="footer-verify-center">정상적인 데이터로 확인되었습니다.</div>',e+='<div id="txinfoget-bt" class="footer-verify-right"><a href="#nexledger-txid-info-dialog" rel="modal:open">트랜잭션 조회</a></div>',e+="</div>",$(".main-body-footer").append(e),$("html").animate({scrollTop:$(".main-body-footer").offset().top},600),$(".main-body-footer-right").css({"background-color":"#7ed321"}),$(".main-body-footer-right-button1").text("검증완료"),$(".footer-verify-4 > .footer-verify-center").css({color:"#7ed321"}),$("#txinfoget-bt").click(function(e){0})},1e3)},1e3)},1e3)}else alert("이미 진행중입니다")});var o="([a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)";$("#email-send-input").selectize({persist:!1,maxItems:null,valueField:"email",labelField:"name",searchField:["name","email"],options:[],render:{item:function(e,i){return setTimeout(2e3,function(){$(".email-remove-button").click(function(){console.log("c")})}),"<div>"+(e.name?'<span class="name">'+i(e.name)+"</span>":"")+(e.email?'<span class="email">'+i(e.email)+"</span>":"")+'<img src="/img/myresume/close-gray.svg"  class="email-remove-button" onclick="$(this).parent().hide()">'},option:function(e,i){var t=e.name||e.email,o=e.name?e.email:null;return'<div><span class="label">'+i(t)+"</span>"+(o?'<span class="caption">'+i(o)+"</span>":"")+"</div>"}},createFilter:function(e){var i,t;return t=new RegExp("^"+o+"$","i"),(i=e.match(t))?!this.options.hasOwnProperty(i[0]):(t=new RegExp("^([^<]*)<"+o+">$","i"),!!(i=e.match(t))&&!this.options.hasOwnProperty(i[2]))},create:function(e){if(new RegExp("^"+o+"$","i").test(e))return{email:e};var i=e.match(new RegExp("^([^<]*)<"+o+">$","i"));return i?{email:i[2],name:$.trim(i[1])}:(alert("Invalid email address."),!1)}}),$("#more-button").click(function(){"none"==$("#more-button-div").css("display")?$("#more-button-div").show():$("#more-button-div").hide()});var n=!0;$(function(){var t=$("#wrap"),o=$("textarea"),r=$(".dummy");function a(){var e=t.height(),i=Math.max(0,.5*(e-r.height()));n&&(e-=5,i-=5,n=!1),o.css({paddingTop:i,height:e-i})}o.on("keyup change",function(e){var i,t=(i=o.val())?i.replace(/\n$/,"<br>&nbsp;").replace(/\n/g,"<br>"):"&nbsp;";r.html(t),a()}).trigger("change"),$(window).on("resize",a)}),$(".confirm-btn").click(function(){summitform()}),$("#btn_print").click(function(e){$(".header").hide(),$(".main-body-footer").hide(),$(".main-body-footer-decription").hide(),$(".qr-container").show();var i=document.querySelector("html"),t=$(".outer-container"),o="";t.each(function(e,i){o+=$(this).html()});var r=document.createElement("DIV");r.className="print-div",i.appendChild(r),r.innerHTML=o,document.body.style.display="none",window.print(),document.body.style.display="block",r.remove(),$(".header").show(),$(".main-body-footer").show(),$(".main-body-footer-decription").show(),$(".qr-container").hide()})})}(window);